:root {
    --cake-h: 40px;
    --brown: #6d4c41;
    --pink: #f06292;
    --yellow: #ffeb3b;
    --shadow: rgba(0, 0, 0, 0.3);
}

body {
    background: linear-gradient(to bottom, #87CEEB, #E0F7FA);
    margin: 0; padding: 0; overflow: hidden; height: 100vh;
    font-family: 'Segoe UI', sans-serif;
    touch-action: manipulation;
}

.hidden { display: none !important; }

/* Nubes Animadas */
.cloud {
    position: fixed;
    background: white;
    width: 120px; height: 40px;
    border-radius: 50px;
    opacity: 0.6; z-index: -1;
    animation: moveClouds linear infinite;
}
.cloud::after { content: ''; position: absolute; background: white; width: 50px; height: 50px; top: -25px; left: 20px; border-radius: 50%; }
.cloud::before { content: ''; position: absolute; background: white; width: 40px; height: 40px; top: -15px; left: 60px; border-radius: 50%; }

@keyframes moveClouds {
    from { transform: translateX(-200px); }
    to { transform: translateX(calc(100vw + 200px)); }
}

/* Pantallas */
#user-screen, #game-over-screen {
    position: fixed; inset: 0;
    background: rgba(0,0,0,0.8); z-index: 2000;
    display: flex; justify-content: center; align-items: center;
}

.modal {
    background: white; padding: 30px; border-radius: 25px;
    text-align: center; border: 6px solid var(--brown);
    width: 85%; max-width: 400px;
}

/* Indicador de Viento */
#wind-alert {
    display: none;
    color: #d32f2f;
    font-weight: bold;
    font-size: 1.2rem;
    background: rgba(255,255,255,0.8);
    padding: 5px 15px;
    border-radius: 20px;
    margin-top: 10px;
    animation: flash 1s infinite;
}

@keyframes flash {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

/* Interfaz */
#ui { position: fixed; width: 100%; top: 20px; text-align: center; z-index: 500; }
#score-box { background: white; display: inline-block; padding: 10px 30px; border-radius: 50px; border: 4px solid var(--brown); }

/* Gr√∫a */
#crane-system { position: fixed; top: 0; width: 100%; z-index: 400; }
#crane { position: absolute; top: 0; left: 50%; width: 4px; height: 300px; background: #333; transform-origin: top center; }
#active-cake-container { position: absolute; bottom: -50px; left: 50%; transform: translateX(-50%); }

/* Juego */
#game-world { width: 100%; height: 100%; transition: transform 0.4s ease-out; }
#base-container { position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); transform-origin: bottom center; }
#base { width: 200px; height: 40px; background: #8d6e63; border: 4px solid var(--brown); border-radius: 10px; }

.cake { height: var(--cake-h); border-radius: 8px; border: 3px solid var(--brown); position: relative; }
.f-1 { background: #f06292; border-bottom: 6px solid #d81b60; }
.f-2 { background: #ba68c8; border-bottom: 6px solid #8e24aa; }
.f-3 { background: #fff176; border-bottom: 6px solid #fbc02d; }

.cake.perfect { box-shadow: 0 0 15px white, 0 0 25px var(--yellow); border: 3px solid white !important; }

/* Texto de Perfecto */
.perfect-text {
    position: fixed; color: var(--yellow); font-weight: bold; font-size: 32px;
    text-shadow: 2px 2px 0 #000; animation: floatUp 0.8s forwards;
}
@keyframes floatUp { 0% { transform: translateY(0); opacity: 1; } 100% { transform: translateY(-100px); opacity: 0; } }

/* Record Mundial */
.record-message {
    position: fixed; top: 40%; left: 50%; transform: translate(-50%, -50%);
    background: var(--yellow); color: #d81b60; padding: 20px; border-radius: 20px;
    border: 5px solid #d81b60; font-size: 2rem; z-index: 3000; animation: flash 0.5s infinite;
}
